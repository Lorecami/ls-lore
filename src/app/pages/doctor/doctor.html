<div class="doctor-panel">
  <h2>ğŸ“… Mis Citas Programadas</h2>

  <div *ngIf="loading()">Cargando citas...</div>
  <div *ngIf="error()">{{ error() }}</div>
  <div *ngIf="mensaje()" class="success-msg">{{ mensaje() }}</div>

  <div *ngIf="citas$().length === 0 && !loading()">
    <p>No tienes citas programadas.</p>
  </div>

  <ul *ngIf="citas$().length > 0" class="citas-lista">
    <li *ngFor="let cita of citas$()" class="cita-item">
      <strong>Paciente:</strong> {{ cita.pacienteNombre }}<br>
      <strong>Fecha:</strong> {{ cita.fecha }}<br>
      <strong>Hora:</strong> {{ cita.hora }}<br>
      <strong>Estado:</strong> {{ cita.estado }}<br>

      <button (click)="cambiarEstado(cita.id, 'confirmada')">âœ… Confirmar</button>
      <button (click)="cambiarEstado(cita.id, 'cancelada')">âŒ Cancelar</button>
    </li>
  </ul>
</div>
