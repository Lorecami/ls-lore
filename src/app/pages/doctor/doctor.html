<div class="doctor-panel">
  <h2>Mis Citas</h2>

  <div *ngFor="let cita of citas$ | async" class="card">
    <p><strong>Paciente:</strong> {{ cita.userName || 'No disponible' }}</p>
    <p><strong>Fecha:</strong> {{ cita.date }}</p>
    <p><strong>Hora:</strong> {{ cita.time }}</p>
    <p><strong>Estado:</strong> <span class="estado">{{ cita.estado }}</span></p>

    <div class="acciones">
      <button (click)="cambiarEstado(cita, 'confirmada')" class="btn btn-confirmar" *ngIf="cita.estado === 'pendiente'">
        Confirmar
      </button>
      <button (click)="cambiarEstado(cita, 'cancelada')" class="btn btn-cancelar" *ngIf="cita.estado !== 'cancelada'">
        Cancelar
      </button>
    </div>
  </div>
</div>
